# [BOJ]/[21610] 마법사 상어와 비바라기

## *- Simulation -*

**전역 변수**

```java
int[][] map; // 바구니에 저장된 물의 양
ArrayList<Cloud> cloud = new ArrayList<>(); // 구름 위치 리스트
```

## solution

1. `(N, 1)`, `(N, 2)`, `(N-1, 1)`, `(N-1, 2)` 위치에 구름을 놓는다.	

2. 다음 과정을 `M`번 반복

   ```java
   boolean[][] rain = new boolean[N+1][N+1]; // 비 내림 여부
   ```

   1. 구름을 이동시키고, 그 위치에 물을 `1` 증가시킨다.

      ```java
      void MoveCloud(int N, int d, int s, boolean[][] rain) 
      ```

      * 존재하는 구름을 모두 이동시킨다.

        현재 방향 `d`와 거리 `s`만큼 현재 위치에서 더해준 후, 그 위치가 "`1`이상 `N`이하" 가 아니라면 위치를 조정한다.	

        * `N`보다 크다면 `% N`
        * 그 값이 `1`보다 작다면 `N - (절댓값 % N)`

      * 조정한 위치에 비를 `1`만큼 내리고, 비내림 여부인 `rain`에 `true`로 체크한다.

      * 모든 구름을 다 이동시켰다면, 모든 구름을 제거한다.

   2. 비 내림 여부에 따라 물의 양을 조정하고, 구름을 생성한다.

      ```java
      void ChkRainOrNot(int N, boolean[][] rain){
          int[][] plus = new int[N+1][N+1]; // 추가 또는 제거 해주어야하는 물의 양
          ...
      }
      ```

      * `rain`을 스캔하면서 각 위치를 처리한다.

      * 비가 온 위치라면, 

        대각선방향의 물이 있는 바구니 수만큼 물의 양을 증가 시킨다. => `plus[i][j] += cnt`

      * 비가 오지 않은 위치라면,

        그 위치의 바구니의 물의 양이 `2`이상이라면 물의 양을 `2`만큼 줄이고, 그 위치에 구름을 생성한다. => `plus[i][j] -= 2` , `clous.add(new Cloud(i, j))`

      * 모든 위치를 확인했다면, `plus`값으로 바구니의 물의 양을 처리한다. 

        => `map[i][j] += plus[i][j]`

3. `M`번 반복을 끝낸 후, 남아있는 물의 양을 구한다.

</br>

## :speaking_head:

이번 삼성 코테 1번 문제였는데 그 전날 비슷한 문제를 풀고 갔어서 그런지 쉽게 풀 수 있었다. 풀었던 방법 기억해내서 제출해봤는데 통과해서 다행이다 !!



